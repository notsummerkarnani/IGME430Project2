(()=>{var e={166:e=>{e.exports=e=>React.createElement("img",{src:e.href,alt:e.alt})},603:e=>{const a=e=>{document.getElementById("errorMessage").innerHTML=`<p>${e}</p>`,document.getElementById("errorMessage").classList.add("is-danger")};e.exports={handleError:a,sendPost:async(e,t,s)=>{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();n.redirect&&(window.location=n.redirect),n.error&&a(n.error),s&&s(n)},hideError:()=>{document.getElementById("errorMessage").innerHTML=null,document.getElementById("errorMessage").classList.remove("is-danger")}}},76:e=>{e.exports=e=>{React.useEffect((()=>{const e=document.getElementById("burger"),a=document.getElementById("nav-links");e&&(e.onclick=()=>a.classList.toggle("is-active"))}));const a=e.links.map(((e,a)=>window.location.pathname===e.href?React.createElement("a",{key:a,id:e.id,href:e.href,className:"navbar-item is hoverable has-background-warning has-text-black"},e.name):React.createElement("a",{key:a,id:e.id,href:e.href,className:"navbar-item is hoverable"},e.name)));return React.createElement("nav",{id:"navbar",className:"navbar is-fixed-top is-dark has-shadow"},React.createElement("div",{className:"navbar-brand"},React.createElement("a",{className:"navbar-item",href:window.location.pathname},React.createElement("i",{className:"fas fa-search fa-2xl"})),React.createElement("a",{className:"navbar-burger",id:"burger"},React.createElement("span",null),React.createElement("span",null),React.createElement("span",null))),React.createElement("div",{className:"navbar-menu",id:"nav-links"},React.createElement("div",{className:"navbar-start"},a)))}}},a={};function t(s){var r=a[s];if(void 0!==r)return r.exports;var n=a[s]={exports:{}};return e[s](n,n.exports,t),n.exports}(()=>{const e=t(603),a=t(76),s=t(166),r=[{name:"Login",href:"/login",id:"loginButton"},{name:"Sign Up",href:"/signup",id:"signupButton"},{name:"Change Password",href:"/changePass",id:"changePassButton"}],n=a=>{a.preventDefault(),e.hideError();const t=a.target.querySelector("#user").value,s=a.target.querySelector("#pass").value,r=a.target.querySelector("#_csrf").value;return t&&s?(e.sendPost(a.target.action,{username:t,pass:s,_csrf:r}),!1):(e.handleError("Username or password is empty!"),!1)},c=a=>{a.preventDefault(),e.hideError();const t=a.target.querySelector("#user").value,s=a.target.querySelector("#pass").value,r=a.target.querySelector("#pass2").value,n=a.target.querySelector("#_csrf").value;return t&&s&&r?s!==r?(e.handleError("Passwords do not match!"),!1):(e.sendPost(a.target.action,{username:t,pass:s,pass2:r,_csrf:n}),!1):(e.handleError("All fields are required"),!1)},l=a=>{a.preventDefault(),e.hideError();const t=a.target.querySelector("#user").value,s=a.target.querySelector("#pass").value,r=a.target.querySelector("#pass2").value,n=a.target.querySelector("#_csrf").value;return t&&s&&r?s===r?(e.handleError("New password cannot be same as current password!"),!1):(e.sendPost(a.target.action,{username:t,pass:s,pass2:r,_csrf:n}),!1):(e.handleError("All fields are required"),!1)},o=e=>React.createElement("form",{id:"loginForm",name:"loginForm",onSubmit:n,action:"/login",method:"POST",className:"form"},React.createElement("div",{className:"bg notification is-primary field is-grouped level is-justify-content-center"},React.createElement("label",{className:"label is-size-4 pr-4",htmlFor:"username"},"Username: "),React.createElement("div",{className:"control"},React.createElement("input",{className:"input",id:"user",type:"text",name:"username",placeholder:"username"})),React.createElement("label",{className:"label is-size-4 pr-4",htmlFor:"pass"},"Password: "),React.createElement("div",{className:"control"},React.createElement("input",{className:"input",id:"pass",type:"password",name:"pass",placeholder:"password"})),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("div",{className:"control"},React.createElement("input",{className:"button is-hoverable",type:"submit",value:"Sign in"})))),i=e=>(console.log(e),React.createElement("form",{id:e.props.id,name:e.props.id,onSubmit:e.props.submit,action:e.props.action,method:"POST",className:"form"},React.createElement("div",{className:"bg notification is-primary field columns is-vcentered"},React.createElement("div",{className:"column"},React.createElement("label",{className:e.props.labelClass,htmlFor:e.props.inputs[1].id},e.props.inputs[1].text," "),React.createElement("div",{className:"control"},React.createElement("input",{className:e.props.inputs[1].class,id:e.props.inputs[1].id,type:e.props.inputs[1].type,name:e.props.inputs[1].name,placeholder:e.props.inputs[1].name}))),React.createElement("div",{className:"column"},React.createElement("label",{className:e.props.labelClass,htmlFor:e.props.inputs[2].id},e.props.inputs[2].text," "),React.createElement("div",{className:"control"},React.createElement("input",{className:e.props.inputs[2].class,id:e.props.inputs[2].id,type:e.props.inputs[2].type,name:e.props.inputs[2].name,placeholder:e.props.inputs[2].name}))),React.createElement("div",{className:"column"},React.createElement("label",{className:e.props.labelClass,htmlFor:e.props.inputs[3].id},e.props.inputs[3].text," "),React.createElement("div",{className:"control"},React.createElement("input",{className:e.props.inputs[3].class,id:e.props.inputs[3].id,type:e.props.inputs[3].type,name:e.props.inputs[3].name,placeholder:e.props.inputs[3].name}))),React.createElement("div",{className:"control"},React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.props.csrf}),React.createElement("input",{className:e.props.inputs[4].class,type:e.props.inputs[4].type,value:e.props.inputs[3].value})))));window.onload=async()=>{const e=await fetch("/getToken"),t=await e.json();ReactDOM.render(React.createElement(a,{links:r}),document.getElementById("nav"));const n=document.getElementById("loginButton"),p=document.getElementById("signupButton"),m=document.getElementById("changePassButton");n.classList.add("has-background-warning"),n.classList.add("has-text-black"),n.addEventListener("click",(e=>(e.preventDefault(),n.classList.add("has-background-warning"),p.classList.remove("has-background-warning"),m.classList.remove("has-background-warning"),n.classList.add("has-text-black"),p.classList.remove("has-text-black"),m.classList.remove("has-text-black"),ReactDOM.render(React.createElement(o,{csrf:t.csrfToken}),document.getElementById("content")),!1))),p.addEventListener("click",(e=>{e.preventDefault(),n.classList.remove("has-background-warning"),p.classList.add("has-background-warning"),m.classList.remove("has-background-warning"),n.classList.remove("has-text-black"),p.classList.add("has-text-black"),m.classList.remove("has-text-black");let a={id:"signupForm",submit:c,action:"/signup",labelClass:"label is-size-4 pr-4",inputs:{1:{name:"username",text:"Username: ",id:"user",type:"text",class:"input"},2:{name:"password",text:"Password: ",id:"pass",type:"password",class:"input"},3:{name:"password",text:"Retype Password: ",id:"pass2",type:"password",class:"input"},4:{type:"submit",value:"Sign Up",class:"button is-hoverable"}},csrf:t.csrfToken};return ReactDOM.render(React.createElement(i,{props:a}),document.getElementById("content")),!1})),m.addEventListener("click",(e=>{e.preventDefault(),n.classList.remove("has-background-warning"),p.classList.remove("has-background-warning"),m.classList.add("has-background-warning"),n.classList.remove("has-text-black"),p.classList.remove("has-text-black"),m.classList.add("has-text-black");let a={id:"changePassForm",submit:l,action:"/changePass",labelClass:"label is-size-4 pr-4",inputs:{1:{name:"username",text:"Username: ",id:"user",type:"text",class:"input"},2:{name:"password",text:"Current Password: ",id:"pass",type:"password",class:"input"},3:{name:"password",text:"New Password: ",id:"pass2",type:"password",class:"input"},4:{type:"submit",value:"Change Password",class:"button is-hoverable"}},csrf:t.csrfToken};return ReactDOM.render(React.createElement(i,{props:a}),document.getElementById("content")),!1})),ReactDOM.render(React.createElement(o,{csrf:t.csrfToken}),document.getElementById("content"));const d=document.querySelectorAll("#ad");for(let e=0;e<d.length;e++)ReactDOM.render(React.createElement(s,{href:"assets/img/ad.jpeg",alt:"placeholder advertisement"}),d[e])}})()})();